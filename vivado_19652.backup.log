#-----------------------------------------------------------
# Vivado v2024.1 (64-bit)
# SW Build 5076996 on Wed May 22 18:36:09 MDT 2024
# IP Build 5075265 on Wed May 22 21:45:21 MDT 2024
# SharedData Build 5076995 on Wed May 22 18:29:18 MDT 2024
# Start of session at: Wed Aug 13 12:43:28 2025
# Process ID: 19652
# Current directory: /home/wanqi/Wanqi/project/charm_u50
# Command line: vivado -mode batch -source scripts/build.tcl
# Log file: /home/wanqi/Wanqi/project/charm_u50/vivado.log
# Journal file: /home/wanqi/Wanqi/project/charm_u50/vivado.jou
# Running On        :seat10
# Platform          :Ubuntu
# Operating System  :Ubuntu 22.04.5 LTS
# Processor Detail  :Intel(R) Core(TM) i7-7700 CPU @ 3.60GHz
# CPU Frequency     :4098.281 MHz
# CPU Physical cores:4
# CPU Logical cores :8
# Host memory       :33534 MB
# Swap memory       :12884 MB
# Total Virtual     :46419 MB
# Available Virtual :40534 MB
#-----------------------------------------------------------
WARNING: [Common 17-1271] The MYVIVADO environment variable specifies an invalid location '/opt/Xilinx/Vitis/2022.2_patch000034848/'
Sourcing tcl script '/home/wanqi/.Xilinx/Vivado/2024.1/Vivado_init.tcl'
source scripts/build.tcl
# set kernel_list {
#     "mm_large"
#     "mm_small"
# }
# foreach kernel $kernel_list {
#     set kernel_xo [file rootname $kernel].xo
#     puts "Compiling $kernel..."
#     
#     # 综合内核
#     v++ -t hw --platform xilinx_u50_gen3x16_xdma_201920_3 \
#         -c -k $kernel -o $kernel_xo kernels/${kernel}.cpp
#     
#     # 生成全局头文件
#     if {![file exists "kernels/${kernel}.h"]} {
#         set fd [open "kernels/${kernel}.h" w]
#         puts $fd "#ifndef _${kernel}_H_"
#         puts $fd "#define _${kernel}_H_"
#         puts $fd "extern \"C\" {"
#         puts $fd "void $kernel("
#         puts $fd "    const float* A,"
#         puts $fd "    const float* B,"
#         puts $fd "    float* C,"
#         puts $fd "    int M, int K, int N"
#         puts $fd ");"
#         puts $fd "}"
#         puts $fd "#endif"
#         close $fd
#     }
# }
Compiling mm_large...
WARNING: [Common 17-259] Unknown Tcl command 'v++ -t hw --platform xilinx_u50_gen3x16_xdma_201920_3 -c -k mm_large -o mm_large.xo kernels/mm_large.cpp' sending command to the OS shell for execution. It is recommended to use 'exec' to send the command to the OS shell.
invalid command name "v++"
    while executing
"v++ -t hw --platform xilinx_u50_gen3x16_xdma_201920_3  -c -k $kernel -o $kernel_xo kernels/${kernel}.cpp"
    ("foreach" body line 6)
    invoked from within
"foreach kernel $kernel_list {
    set kernel_xo [file rootname $kernel].xo
    puts "Compiling $kernel..."
    
    # 综合内核
    v++ -t hw --pla..."
    (file "scripts/build.tcl" line 6)
INFO: [Common 17-206] Exiting Vivado at Wed Aug 13 12:43:31 2025...
